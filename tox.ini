[tox]
envlist = py38

[testenv]
deps = -rrequirements-develop.txt
passenv =
    PWD
    HOME

commands =
    flake8
    black .
    pre-commit run --all-files
    interrogate -c pyproject.toml
    pytest

[testenv:pytest]
changedir = tests

[flake8]
ignore = E501,E203,W503


[pytest]
testpaths = tests
addopts =
    -v
    --basetemp=.pytest_tmpdir
    --tb=short
    --cov=netcfgbu
    --cov-append
    --cov-report=html
    --cov-report=term
    -p no:warnings
